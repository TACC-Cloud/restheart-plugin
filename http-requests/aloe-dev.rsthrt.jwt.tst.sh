#!/usr/bin/env bash

# user testuser7
# export jwt="x-jwt-assertion-dev:eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5tSm1PR1V4TXpabFlqTTJaRFJoTlRabFlUQTFZemRoWlRSaU9XRTBOV0kyTTJKbU9UYzFaQT09In0=.eyJpc3MiOiJ3c28yLm9yZy9wcm9kdWN0cy9hbSIsImV4cCI6MTU1NDM5Nzk4MDcyMSwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9zdWJzY3JpYmVyIjoiQUxPRURFVi90ZXN0dXNlcjciLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9uaWQiOiIyODgiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9ubmFtZSI6InNsdGFwcCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvYXBwbGljYXRpb250aWVyIjoiVW5saW1pdGVkIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9hcGljb250ZXh0IjoiL2pvYnMvdjIiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3ZlcnNpb24iOiJ2MiIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvdGllciI6IlVubGltaXRlZCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMva2V5dHlwZSI6IlBST0RVQ1RJT04iLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3VzZXJ0eXBlIjoiQVBQTElDQVRJT04iLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2VuZHVzZXIiOiJ0ZXN0dXNlcjdAY2FyYm9uLnN1cGVyIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9lbmR1c2VyVGVuYW50SWQiOiItMTIzNCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZW1haWxhZGRyZXNzIjoidGVzdHVzZXI3QHRhY2MudXRleGFzLmVkdSIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZnVsbG5hbWUiOiJ0ZXN0dXNlcjciLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2xhc3RuYW1lIjoidGVzdHVzZXI3IiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9yb2xlIjoiSW50ZXJuYWwvQUxPRURFVl90ZXN0dXNlcjdfcnN0aHJ0YXBwX1BST0RVQ1RJT04sSW50ZXJuYWwvQUxPRURFVl90ZXN0dXNlcjdfYXBwMl9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X0RlZmF1bHRBcHBsaWNhdGlvbl9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X3Rlc3RfYXBwX1BST0RVQ1RJT04sSW50ZXJuYWwvQUxPRURFVl90ZXN0dXNlcjdfc2x0YXBwX1BST0RVQ1RJT04sSW50ZXJuYWwvZXZlcnlvbmUifQ==.NB7OwZV+gI8JDPq6pOHYlITQr5sWlrwsfizIafxQxXm0c393cgFoQOcVdw58IIpK+NcgX8eSi99svmEtgXwBqlohfn4utPQT2bZFH2Jc4TuvHAEBAhwDp3pJ1SYVvH3DDQkSn6Fm5oi4k1kiXUPtcL78p8OKAqZtMp9roSh3fc0="
#export base=http://aloe-dev02.tacc.utexas.edu:8580

# user testuser
# export jwt="x-jwt-assertion-dev:eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5tSm1PR1V4TXpabFlqTTJaRFJoTlRabFlUQTFZemRoWlRSaU9XRTBOV0kyTTJKbU9UYzFaQT09In0.eyJpc3MiOiJ3c28yLm9yZy9wcm9kdWN0cy9hbSIsImV4cCI6MTU1ODAzOTEzNDgzMCwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9zdWJzY3JpYmVyIjoiQUxPRURFVi90ZXN0dXNlcjciLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9uaWQiOiI2NjkiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9ubmFtZSI6InJzdGhydGFwcCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvYXBwbGljYXRpb250aWVyIjoiVW5saW1pdGVkIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9hcGljb250ZXh0IjoiL3JoL3YyIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy92ZXJzaW9uIjoidjIiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3RpZXIiOiJVbmxpbWl0ZWQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2tleXR5cGUiOiJQUk9EVUNUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy91c2VydHlwZSI6IkFQUExJQ0FUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9lbmR1c2VyIjoidGVzdHVzZXI3QGNhcmJvbi5zdXBlciIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZW5kdXNlclRlbmFudElkIjoiLTEyMzQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InRlc3R1c2VyN0B0YWNjLnV0ZXhhcy5lZHUiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2Z1bGxuYW1lIjoidGVzdHVzZXIiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2xhc3RuYW1lIjoidGVzdHVzZXIiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3JvbGUiOiJJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN19yc3RocnRhcHBfUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN19hcHAyX1BST0RVQ1RJT04sSW50ZXJuYWwvQUxPRURFVl90ZXN0dXNlcjdfRGVmYXVsdEFwcGxpY2F0aW9uX1BST0RVQ1RJT04sSW50ZXJuYWwvQUxPRURFVl90ZXN0dXNlcjdfdGVzdF9hcHBfUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN19zbHRhcHBfUFJPRFVDVElPTixJbnRlcm5hbC9hYmFjby1hZG1pbixJbnRlcm5hbC9ldmVyeW9uZSxJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN19wb3dfUFJPRFVDVElPTiJ9.M3s9SlwTWQswTIRXSKAAA1F1uQrsCIurilct6RE5QYz92ymWW7oavqT2exCPngC8NtMcfyWPsfe03wLSu1BivkWLRum4-cQr8_Q8tLKpvXCFSlOyjTvR3YpjCDeOmIeBaSZrU3RkcmNqbtDqIkdtBGQeYTxn74Ta5CHqNc9hcVvxK9Gc2jfD3d4U0fWxN5fiFY3ClEhL7HeyPjOxjvFyK3QzxcDcUIat_itHsZ-WqbK0AVYJy3KOPk8HyI9Rd-lOY35jG6NnBWVGSNCoSDe3ctK1xmXR2nWwm4zPySQP438L88P02WvG_XCb7Rpytr80QPASHkaBg_yT_tB2B4vu-Q"

# user testuser5
# export jwt="X-JWT-Assertion-dev:eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5tSm1PR1V4TXpabFlqTTJaRFJoTlRabFlUQTFZemRoWlRSaU9XRTBOV0kyTTJKbU9UYzFaQT09In0.eyJpc3MiOiJ3c28yLm9yZy9wcm9kdWN0cy9hbSIsImV4cCI6MTU1ODAzOTEzNDgzMCwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9zdWJzY3JpYmVyIjoiQUxPRURFVi90ZXN0dXNlcjciLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9uaWQiOiI2NjkiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9ubmFtZSI6InJzdGhydGFwcCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvYXBwbGljYXRpb250aWVyIjoiVW5saW1pdGVkIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9hcGljb250ZXh0IjoiL3JoL3YyIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy92ZXJzaW9uIjoidjIiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3RpZXIiOiJVbmxpbWl0ZWQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2tleXR5cGUiOiJQUk9EVUNUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy91c2VydHlwZSI6IkFQUExJQ0FUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9lbmR1c2VyIjoidGVzdHVzZXI3QGNhcmJvbi5zdXBlciIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZW5kdXNlclRlbmFudElkIjoiLTEyMzQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InRlc3R1c2VyN0B0YWNjLnV0ZXhhcy5lZHUiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2Z1bGxuYW1lIjoidGVzdHVzZXI1IiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9sYXN0bmFtZSI6InRlc3R1c2VyNSIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvcm9sZSI6IkludGVybmFsL0FMT0VERVZfdGVzdHVzZXI1X3JzdGhydGFwcF9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI1X2FwcDJfUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyNV9EZWZhdWx0QXBwbGljYXRpb25fUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyNV90ZXN0X2FwcF9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI1X3NsdGFwcF9QUk9EVUNUSU9OLEludGVybmFsL2FiYWNvLWFkbWluLEludGVybmFsL2V2ZXJ5b25lLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI1X3Bvd19QUk9EVUNUSU9OIn0.ByD4CVHT5yEgz2MLosr1kHrw5FkKduQwDEL4vPalQM5unaj1Q_HJvK1LcQ2C2KutWk1xnrDXalTogxaPwGwpcAvr_ZenwBso-_FxgZhOIgCbqCTk9MaXVtaKCGQHExw3w_9zYwFtsXic04-hfrLlE3rrtbeButasZGVrMHuk5NZbW4bTwU1JFXaJEqcBN_V8gH9_DCV40o3779YKoinDrCb7AjGuisPp50yexMI7RZEr4PZ-gjxd5KfetPRXPYi9dlCEpQnycgVYYroSbTVXTam0IKzXtviZ61SL_RlYG3y8WCu02BVXU6PXKRE45Q-fjG0KtUW4OUndAXDjqQ-6jw"

# export jwt="x-jwt-assertion-dev:eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5tSm1PR1V4TXpabFlqTTJaRFJoTlRabFlUQTFZemRoWlRSaU9XRTBOV0kyTTJKbU9UYzFaQT09In0=.eyJpc3MiOiJ3c28yLm9yZy9wcm9kdWN0cy9hbSIsImV4cCI6MTU1ODAzOTEzNDgzMCwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9zdWJzY3JpYmVyIjoiQUxPRURFVi90ZXN0dXNlcjciLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9uaWQiOiI2NjkiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9ubmFtZSI6InJzdGhydGFwcCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvYXBwbGljYXRpb250aWVyIjoiVW5saW1pdGVkIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9hcGljb250ZXh0IjoiL3JoL3YyIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy92ZXJzaW9uIjoidjIiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3RpZXIiOiJVbmxpbWl0ZWQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2tleXR5cGUiOiJQUk9EVUNUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy91c2VydHlwZSI6IkFQUExJQ0FUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9lbmR1c2VyIjoidGVzdHVzZXI3QGNhcmJvbi5zdXBlciIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZW5kdXNlclRlbmFudElkIjoiLTEyMzQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InRlc3R1c2VyN0B0YWNjLnV0ZXhhcy5lZHUiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2Z1bGxuYW1lIjoidGVzdHVzZXI3IiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9sYXN0bmFtZSI6InRlc3R1c2VyNyIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvcm9sZSI6IkludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X3JzdGhydGFwcF9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X2FwcDJfUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN19EZWZhdWx0QXBwbGljYXRpb25fUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN190ZXN0X2FwcF9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X3NsdGFwcF9QUk9EVUNUSU9OLEludGVybmFsL2FiYWNvLWFkbWluLEludGVybmFsL2V2ZXJ5b25lLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X3Bvd19QUk9EVUNUSU9OIn0=.Gx26fX37UIHWpPxgc/neIfXbR/4PouxQ+lDOagHbmYG1mY4gQWq6yXNpsL8zhoarDYFqK/DxqyB8WstS4TCLPlx6dqAVh99h2ee2dgNzekRaQQaz8xIaT+23kAswkx5c7xyGGsHB5qIFajhQjLPyls4WiIE7fG8IOl8dRriDQRs="

# testuser  this one works the others do not
export jwt="X-JWT-Assertion-dev:eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5tSm1PR1V4TXpabFlqTTJaRFJoTlRabFlUQTFZemRoWlRSaU9XRTBOV0kyTTJKbU9UYzFaQT09In0=.eyJpc3MiOiJ3c28yLm9yZy9wcm9kdWN0cy9hbSIsImV4cCI6MTU1ODAzOTEzNDgzMCwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9zdWJzY3JpYmVyIjoiQUxPRURFVi90ZXN0dXNlcjciLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9uaWQiOiI2NjkiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9ubmFtZSI6InJzdGhydGFwcCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvYXBwbGljYXRpb250aWVyIjoiVW5saW1pdGVkIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9hcGljb250ZXh0IjoiL3JoL3YyIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy92ZXJzaW9uIjoidjIiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3RpZXIiOiJVbmxpbWl0ZWQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2tleXR5cGUiOiJQUk9EVUNUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy91c2VydHlwZSI6IkFQUExJQ0FUSU9OIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9lbmR1c2VyIjoidGVzdHVzZXI3QGNhcmJvbi5zdXBlciIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZW5kdXNlclRlbmFudElkIjoiLTEyMzQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InRlc3R1c2VyN0B0YWNjLnV0ZXhhcy5lZHUiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2Z1bGxuYW1lIjoidGVzdHVzZXI3IiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9sYXN0bmFtZSI6InRlc3R1c2VyNyIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvcm9sZSI6IkludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X3JzdGhydGFwcF9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X2FwcDJfUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN19EZWZhdWx0QXBwbGljYXRpb25fUFJPRFVDVElPTixJbnRlcm5hbC9BTE9FREVWX3Rlc3R1c2VyN190ZXN0X2FwcF9QUk9EVUNUSU9OLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X3NsdGFwcF9QUk9EVUNUSU9OLEludGVybmFsL2FiYWNvLWFkbWluLEludGVybmFsL2V2ZXJ5b25lLEludGVybmFsL0FMT0VERVZfdGVzdHVzZXI3X3Bvd19QUk9EVUNUSU9OIn0=.Gx26fX37UIHWpPxgc/neIfXbR/4PouxQ+lDOagHbmYG1mY4gQWq6yXNpsL8zhoarDYFqK/DxqyB8WstS4TCLPlx6dqAVh99h2ee2dgNzekRaQQaz8xIaT+23kAswkx5c7xyGGsHB5qIFajhQjLPyls4WiIE7fG8IOl8dRriDQRs="


curl -v -X GET -H "$jwt" http://aloe-dev02.tacc.utexas.edu/rh/api/metadata | jq
#  curl -v -X GET -H "$jwt" http://localhost:8080/api/metadata | jq




# export tokhdr="Authorization: Bearer 593ca0b869fcebd129854ddb6eeab73"
# curl -H  "Authorization: Bearer 7550a081b397c8529a8aa79bdf32b6a5" https://rh.dev.tacc.cloud/rh/v2/api/metadata | jq
# curl -v  -H  "Authorization: Bearer 593ca0b869fcebd129854ddb6eeab73"  https://dev.tenants.aloedev.tacc.cloud/apps/v2/